<template>
  <require from="./index.scss"></require>
  <section class="au-animate">
    <button class="btn btn-success btnMarginBot5" t="keyButtonNewAsset" click.delegate="createAsset()"></button>

    <nav aria-label="Page navigation example" >
      <ul class="pagination">
        <li class="page-item ${currentPage === 1 ? 'disabled' : ''}" if.bind="totalPages > 0">
          <button class="page-link" disabled.bind="currentPage === 1"  click.delegate="loadAssets(1)" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </button>
        </li>
        <li class="page-item ${page === currentPage ? 'active' : ''}" repeat.for="page of pages"><button class="page-link" click.delegate="page === currentPage  ? '': loadAssets(page) ">${page}</button></li>
        <li class="page-item ${currentPage === totalPages ? 'disabled' : ''}" if.bind="totalPages > 0">
          <button class="page-link"  aria-label="Next" click.delegate="loadAssets(totalPages)">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </button>
        </li>
      </ul>
    </nav>
    <table class="table table-hover table-sm">
      <thead>
        <tr>
          <th scope="col">
            <span t="keyAssetName"></span><br>
            <span t="keyDepartment"></span>
          </th>
          <th scope="col" t="keyCountry"></th>
          <th scope="col" t="keyPurchaseDate"></th>
          <th scope="col"t="keyActions"></th>
        </tr>
      </thead>
      <tbody>
        <tr repeat.for="asset of assets">   
          <td>${asset.assetName}<p t="key${asset.departmentName}"></p></td>
          <td>${asset.translation}</td>
          <td>${asset.formattedDate}</td>
          <td>
            <button type="button" class="btn btn-primary" click.delegate="viewAsset(asset.id)"><i class="far fa-eye"></i></button>
            <button type="button" class="btn btn-success" click.delegate="editAsset(asset.id)"><i class="fas fa-edit"></i></button>
            <button type="button" class="btn btn-danger" click.delegate="deleteAsset(asset.id)"><i class="far fa-trash-alt"></i></button>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
 

  <div class="spinnerCenter" if.bind="isBusy">
    <spinner type="S12" style-class="" size="50" color="#007bff"></spinner>
  </div>
</template>>
